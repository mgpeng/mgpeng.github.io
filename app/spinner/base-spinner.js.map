{"version":3,"file":"base-spinner.js","sourceRoot":"","sources":["base-spinner.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAA+B,eAAe,CAAC,CAAA;AAE/C;IAAA;QACU,YAAO,GAAY,IAAI,CAAC;QAIzB,UAAK,GAAW,CAAC,CAAC;IA2B3B,CAAC;IAxBC,sBAAW,kCAAS;aAApB,UAAqB,KAAc;YAAnC,iBAcC;YAbC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;gBACX,IAAI,CAAC,MAAM,EAAE,CAAC;gBACd,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACvB,CAAC;YAED,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;gBACjB,MAAM,CAAC;YACT,CAAC;YAED,IAAI,CAAC,OAAO,GAAG,UAAU,CAAC;gBACxB,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,KAAI,CAAC,MAAM,EAAE,CAAC;YAChB,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QACjB,CAAC;;;OAAA;IAEO,4BAAM,GAAd;QACE,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC3B,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC;IAC3B,CAAC;IAED,iCAAW,GAAX;QACE,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IA3BD;QAAC,YAAK,EAAE;;8CAAA;IAGR;QAAC,YAAK,EAAE;;;gDAAA;IAyBV,kBAAC;AAAD,CAAC,AAhCD,IAgCC;AAhCY,mBAAW,cAgCvB,CAAA","sourcesContent":["import {Input, OnDestroy} from '@angular/core';\n\nexport class BaseSpinner implements OnDestroy {\n  private visible: boolean = true;\n  private timeout: number;\n\n  @Input()\n  public delay: number = 0;\n\n  @Input()\n  public set isRunning(value: boolean) {\n    if (!value) {\n      this.cancel();\n      this.visible = false;\n    }\n\n    if (this.timeout) {\n      return;\n    }\n\n    this.timeout = setTimeout(() => {\n      this.visible = true;\n      this.cancel();\n    }, this.delay);\n  }\n\n  private cancel(): void {\n    clearTimeout(this.timeout);\n    this.timeout = undefined;\n  }\n\n  ngOnDestroy(): any {\n    this.cancel();\n  }\n}\n"]}